# https://adventofcode.com/2020/day/3

INPUT = """......#..........##......#.####
.##...###....#.....#...#.#.....
#..##..#.....#............#.#.#
##.#....#####..#....#..#.#.....
..#.#...##.##.......#.#..#..##.
##.#.......#.#.#..#...#.#...#..
...#...#..#.##....##..#.#......
.......##.#.#.#.##...#.........
..#...##.##...##..##.##...#....
.#.#...#.....####..#.#...#.##..
.#...#......##......##....#....
..#.....#.........##.#...#.#...
...#.#...#..##...#....#.....##.
..#.....#..#..#......###.......
...##.#....##..##...........#..
....#......#..#....###...#.....
.....#...#.#.....#..##........#
....#...#....##.#.##.#...#..#.#
.......##.#......##....#....#..
...#.#...##..#...#..#..#..##.#.
##.#...#..#..................##
##........#....##...#..#..#....
.#.#..............#######.##...
##..#..#.#.##..#...............
..#........#..#...##.......#...
............##.##.#..........##
.....##..#.....##..#.....#.....
..#.##.###.#..##.............#.
.........##...........#.....#..
..#....#.#.###.#.#.......##....
..###..##..#.#.##......#.#.##..
##......#.#....##.#..#.#..#.#.#
..##.#.###.#...#...............
..####.......#...#.##....#.....
..#....##...#.#.#.#....#.##..##
.#...####..###....#.###...##...
..#.#..........#.#..#..#.....##
.#....#.........###...#.....##.
..#.#.#.##........#.##.#.....#.
#....#....###...#..#.........#.
#..#.###....#..............#...
............#....##.#......#.#.
...#..#.####...............##..
....##......#.#.........####..#
.#....###..#.#..##........##...
#..##.....###..#...............
..#...........#........#...#..#
......................#.#..#...
.#.##.#..#.#....#...#...#.#....
..#..#.........#..#.#..........
.#......#####...#......#..#....
..........#.....#..#.##.####.##
##.##..#............#####...#.#
..##..#..###......#...#...#....
....#####........#.##...###....
......#...##..#..#............#
...#....##.##...#..#...#.......
....#####.#...............###..
.#....#..##....#.#.#..##.##...#
...#..#..#........#.#####.....#
......##.#...#..#..#.....#..###
###.......#.#........#......#.#
..#.#..#..#........#..#......#.
...##.........#..........#.....
...#..###.#.......#.#.........#
....#..#.##...##.....#.....##..
#.#.#.#.....##.##.###..#.#....#
..#....#.....##.####..#........
...#..#.##.....##.#..#....###..
.#..#.....#....#...#.#.......##
..#..#.......#.#.###......#.##.
.###.####....##............##.#
#....###.#......##.#......##.#.
.##...........#.#....#.........
#.##..##...#...........###....#
#.#..#...#.#..#..###.#.##...#..
..#...#.#..##....#..#..#.......
#..##..#.####...#...#..####.##.
###..#.##....#...#.###..##...##
##..#..#.#....#.....##.......#.
..#..##.##.#.......###.#.....#.
..........#.####....#.......#..
#...#.#..#.......##......##..##
##...##.##..###...............#
....##.#...#.......##...##..#..
.#.........#...#.#...##.#.....#
.#...#.#..#...#..##....#..#...#
.#.#...#..#..###...##....#.....
.........#.#...####..#...#.#...
...#.............#.#..........#
...#...#..##.#........#.#......
...#...#.....#....#..###.##.###
.#.#........#....#...#.###.#.#.
##.....#.......#..##.#....#..##
...###...#.#.#.#....#.#....#...
#...#.#.......##.#..#....#.#...
#...#......###.....###........#
..#.##...##....#...#....#.#....
#....#..###....##.#......##...#
##.#...#..........#.##....#..#.
.##....#............###.#...#..
###.##.#####.##.....##..#####..
..###.###.......#.#...#....#...
.#...#....####.........#.......
..##.#.#......#....#.#....#.#.#
#.####.....#....#..#.....#.##..
###.###.##...##.#.#.#.....#.#..
.......#.....#.......##.#.....#
#..#.##...#........#.#.......##
#.#........#...#....#..........
..#....##.#......#..#..........
#....##.....#.....#.##.#...#...
....#.#.....#....####...#.#.##.
......#.......##...##.#......#.
.#.........##...#..#..##..#....
.#...##.....##.#....#..........
....#.###..##..#...#..........#
......#...#.#.#........##......
.#..........#.#.....#..##..#.#.
.......###.#......#....#.#..#..
..##.......#....#....#.#...##.#
#.##.#.......#..###..##...#.#..
......####....#.#.....#...#..#.
#.##.###..#..#.#.....###..#.#.#
#.#.#..#.#..##...#...#..##.###.
....##..##.#...............#.#.
..###.#.#.##..#....##.......#..
#.#....#..........##......#####
.#.#.......##.#.#......##..#.#.
......#.###.##.#..#....#.##....
..###........#.......##.#.#....
.#..##.............#.##.###...#
.#####...#......#.......##.....
##..###.#...#....#..#....#.#..#
.#.........###.##.....##.....##
.##.#....#..#.#..##..#....##...
.#..#..#......###...#.......#..
#.#...#.....#..#.#.#..#..###...
....#....#..#..#....#..#.#.#...
......#.......#.#.#.#.....#....
###...#...#......#..#.#.#..#.#.
#...##.##.##........##....#....
.....#.......#...#...#.#.#....#
...##.....##.#...#.#.#.#..#..#.
.#.......##...........#...#.##.
.##..........#......#.#...###..
.....##...#.....#...#......#...
...........#.....#..#...#..#.#.
#.....##..#...........##....#..
#.##...###.###....##..#..#....#
#.#.##...##....###....##.##....
.#..###.....#......#...#...#..#
..#...#....#.#.###.#..#......#.
......#.........#..#.##...#...#
..#.#....##.#..##..##...#....#.
#.....#....##.........##.#.....
...#...#..###.###......##...###
.##.###...##..#.##....##.#..#..
..#..#.......#................#
.....#..#.#.#..........##..#...
......###.#.#............#..#.#
..#.##.....##....#...#...#.#...
..#......##...#...##........#..
#.....#.....#..#......#.###...#
....#..#.#.....#...#....#.#...#
#.......#..#...##..#.#..#.##...
..#......###...#.........##...#
...#.......##.....#..##........
.#....#.#.....##.#.#...........
##..#..#...#.##.#.#.#.#.#..##.#
##...####.#.#.##...#..#......#.
#.##..####.##.#.........#...###
#...#.......#.#..####.#.#.#....
#....#........#........#.......
..#..####.....#....##...###.##.
...#.#..####.........#....#.##.
##.#...#...#..#.#..##.....##...
....#.........#.##........##.#.
##...#......#....#..#....#....#
###.....#......##...#...##...#.
#.##...............#.......#...
.##.#...#..#....#.#.....###..#.
.....##...#.##.....##...#....#.
#.#..#..........#####..##......
..#.........##...#.........#.##
...#..##.#.#..#......#..###.###
#..#...#.#...##..........#.....
.###..#....###.....#....#..###.
#..#....#...#........##.....#..
.#..###........#....#..####..##
.#..#.#.#.......##.#..##.#..##.
..#..###......##....#..#..#..#.
.......###..##....#......#...##
#........#.##.............##.#.
...#.#.#....##....##.###...#...
..#.....#..##..#.#.......#.####
.#......##.........##...#.....#
.#.###........##....###.#.#...#
##...#.#....#.....##.......#..#
#...........#...........####...
#..#.#..##..#...#....#.##....#.
................##.............
..##...#.#....##....#...#......
.#.....#....#....#..#..#.#..##.
.....######.#.#.##.###.#.......
..#####....#..#...........#.#..
.......#..#..##.#...###.#.#.###
###...#...#..##.#.##..#...#..#.
.#..#..............#...........
.#.....#.....##....#....##..#..
....#####.#....#......#.......#
.#.#.....##.####..#...#.......#
.#...##.#.......#.....##.#..##.
..........#...#....###....#...#
..#......#...#...#..#.#........
.......#.......#..####..##.....
.#..#.....###...#...#...#...#..
##..#.......#.#...#..#..#.##..#
#..#...#.#.....#.##.#........#.
......#......#.#..###.##..###..
.#..#..#.##.#...........#...##.
.#....#...#.#..#.#.#...##.#..#.
##.#....#..#..#.#...#......#.#.
..#.#............##...#........
...####...#...#.....##..#...###
....###.......###.##..#.###....
#......#.#....#.#.##.#.##..###.
.....##.....#..##.....##....#..
..#...#..##.#.##.#.#.#.......##
#....#..##.......#......#..#.##
#.....##...#..##......##.#.#..#
....#..##..#.##...#.#.##..#..##
#..#...##....##..#...#....#...#
.##.#.#....#.....#........##.#.
..##..#....#........#.....#....
.##.#..##...#.....#...###.....#
#..#..#........#..#.....#.#.#.#
..##..###.#..#...#.#......#..#.
#.....#.....#.###......##..#.#.
.........#...##.........#...#..
.##.#.##......#.#...###..#....#
...##.#..###........##......#..
...#.#...#......#.#.#....#..#..
..####.........#..#....#.......
#..#.........##.#.##....#.....#
..#..#..#.#........#.###.......
##.#..#..#....#...##.......#..#
..#.#.....#.............#...##.
..........#...##.....#..#.#..#.
....#..#...#..##..#...##.#.....
##....#......#..#.....#..#.....
...#.#.#.#...........##...#.#..
....#.###...#............#.....
.#.#.#.......#.#......#....#.#.
#.#.#.#..##.#..#..##...##.#..#.
.#.##....##..#........#....#...
####...#....#.#...#..#..###...#
.....#.#.##.......##..#.######.
.......#.#.#.....#.#..##....#..
..#....#.#..#.#.#..#..#........
.....##......#.........#.#...##
#....##.#.....#..........#.#...
#...#.#..#.#..#.#....#..#.#....
....##........#................
###.#.#...#..##...#...#.##...#.
...#....###..#..##..#..#.......
.....#..........#.#........##.#
.#........#.##.#..##..#...#...#
..##....#...#.#.........##.#...
......#...#......#.....#.......
....##.##..#.##...#.#.#.##.#.#.
..#...#.....#.#....##.#........
.#.#.......#.......###..#..#...
#...#..#..#..##....#...#.....#.
.#..####.##.....##.........#.#.
#...###.......#...####..##.....
#.##.#....#.#.##.......#...#...
..#.......#.#.##.##..#...##....
.#.......#.#..#.....#.....#.#..
..#..#.......##.....#.#.....#.#
#...###..#..#..##...#.....#..##
......#................#.......
..#.....##..#.......#...#...##.
...##...####.#..#...#.......##.
..#...#..#...#...#..#..#####...
#..#...#....#....#...........#.
..#.......#..#.##...##..###...#
.#..#..#......##...#....#......
...#..##....#..........#.....#.
###...#.#......#.#.....#.....##
#.#..#.....#........#.##.#.##..
....#...#.....#..#.......#.#...
#.#...##....#..#.....#...#.#.#.
.#......#...##..#.......#......
...#...#.#.#.###.#..#.#..#.....
###...#..###.#...#..##...####..
.#.#.#..#........#..#......#..#
.#..#....#......#....#.#...#...
.##..........###...##.....#.#..
.#...#.#.##.##..###.#...#..###.
......#......#......#.##......#
..#.##..#.#..#....##..##...#...
.#......#..#...##....#...#.....
.#.....#.##..........#..#......
###.#..#.##..#..##...#..#...#..
#.....###........#.#..##.#.....
.....#.......##.....##.....#.##
...##.#......####....##........
..#..#..#....#.##.....##.####..
...#..#....#.#..#.#..#.#.#..#..
#..........#....#.#.#.#...#..#.
...####.##...#..#.......#.#..##
#........#..#..................
.#..#....#.#.#..#..........#...
###...#....####....#......#..#.
#.........####..#..#...........
.....##..#..##.##.##.#..#.....#
.#..#.#.##..#..#.#.#.##.###....
......##......#...#.##....#..#.
.#.#....#..#......#..#...###...
.##...#......##...###...#.#...#
.......#.#....#............#..#
.#..##.#.######...#...#......#.
"""
RIGHT_SLOPES = [1, 3, 5, 7, 1]
DOWN_SLOPES = [1, 1, 1, 1, 2]

lines = INPUT.splitlines()
n = len(lines)
m = len(lines[0])

def calculate_encountered_trees(right, down):
  num_trees = 0
  current_y = 0

  for index in range(down, n, down):
    current_y = (current_y + right) % m

    if lines[index][current_y] == "#":
        num_trees += 1

  return num_trees

if __name__=="__main__":
    # Part One
    print(calculate_encountered_trees(3, 1))

    # Part Two
    answer = 1
    for i in range(len(RIGHT_SLOPES)):
        current = calculate_encountered_trees(RIGHT_SLOPES[i], DOWN_SLOPES[i])
        print(current)
        answer *= current
    
    print(answer)


